<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Handy.Number</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Handy-Number.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Handy-Number.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">handy-0.0.0.0: Some handy functions</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Handy.Number</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Modular arithmetic</a></li><li><a href="#g:2">Arithmetic</a></li><li><a href="#g:3">Often used seqences</a></li><li><a href="#g:4">Factorization</a></li><li><a href="#g:5">Encoding/Decoding</a></li><li><a href="#g:6">Convenience functions/values</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Handy functions for manipulating numbers.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:egcd">egcd</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> t =&gt; t -&gt; t -&gt; (t, t, t)</li><li class="src short"><a href="#v:modInv">modInv</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; a -&gt; a -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> a</li><li class="src short"><a href="#v:sqrtBig">sqrtBig</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> b =&gt; b -&gt; b</li><li class="src short"><a href="#v:diagonal">diagonal</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; [(a, a)]</li><li class="src short"><a href="#v:fibs">fibs</a> :: [<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integer">Integer</a>]</li><li class="src short"><a href="#v:primes">primes</a> :: [<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integer">Integer</a>]</li><li class="src short"><a href="#v:factor">factor</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integer">Integer</a> -&gt; [<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integer">Integer</a>]</li><li class="src short"><a href="#v:enc1">enc1</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; a -&gt; a -&gt; a</li><li class="src short"><a href="#v:dec1">dec1</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; a -&gt; (a, a)</li><li class="src short"><a href="#v:enc2">enc2</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; a -&gt; a -&gt; a</li><li class="src short"><a href="#v:dec2">dec2</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; a -&gt; (a, a)</li><li class="src short"><a href="#v:encodeBase">encodeBase</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; [b] -&gt; a -&gt; [b]</li><li class="src short"><a href="#v:decodeBase">decodeBase</a> :: (<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a, <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Eq.html#t:Eq">Eq</a> b) =&gt; [b] -&gt; [b] -&gt; a</li><li class="src short"><a href="#v:encodeBij">encodeBij</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; [b] -&gt; a -&gt; [b]</li><li class="src short"><a href="#v:decodeBij">decodeBij</a> :: (<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a, <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Eq.html#t:Eq">Eq</a> b) =&gt; [b] -&gt; [b] -&gt; a</li><li class="src short"><a href="#v:binBase">binBase</a> :: [<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Char.html#t:Char">Char</a>]</li><li class="src short"><a href="#v:octBase">octBase</a> :: [<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Char.html#t:Char">Char</a>]</li><li class="src short"><a href="#v:decBase">decBase</a> :: [<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Char.html#t:Char">Char</a>]</li><li class="src short"><a href="#v:hexBase">hexBase</a> :: [<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Char.html#t:Char">Char</a>]</li></ul></div><div id="interface"><h1 id="g:1">Modular arithmetic</h1><div class="top"><p class="src"><a name="v:egcd" class="def">egcd</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> t =&gt; t -&gt; t -&gt; (t, t, t) <a href="src/Handy-Number.html#egcd" class="link">Source</a></p><div class="doc"><p>Extended Euclidean algorithm (Greatest Common Divisor).</p><pre>a*x + b*y == g &amp;&amp; g == gcd a b where (x,y,g) = egcd a b</pre></div></div><div class="top"><p class="src"><a name="v:modInv" class="def">modInv</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; a -&gt; a -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> a <a href="src/Handy-Number.html#modInv" class="link">Source</a></p><div class="doc"><p>Modular inverse.</p><pre>(a * i) `mod` m == 1 where Just i = a `modInv` m</pre></div></div><h1 id="g:2">Arithmetic</h1><div class="top"><p class="src"><a name="v:sqrtBig" class="def">sqrtBig</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> b =&gt; b -&gt; b <a href="src/Handy-Number.html#sqrtBig" class="link">Source</a></p><div class="doc"><p>For given <code>n</code> finds largest <code>m</code> such that <code>m^2 &lt;= n</code>. Newtons method.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sqrtBig 121
</code></strong>11
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sqrtBig 120
</code></strong>10
</pre></div></div><h1 id="g:3">Often used seqences</h1><div class="top"><p class="src"><a name="v:diagonal" class="def">diagonal</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; [(a, a)] <a href="src/Handy-Number.html#diagonal" class="link">Source</a></p><div class="doc"><p>Diagonal enumeration of pairs of natural numbers.
 Every pair is guaranteed to occur at finite position
 in the list. Usable mostly with types representing unbound numbers.</p></div></div><div class="top"><p class="src"><a name="v:fibs" class="def">fibs</a> :: [<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integer">Integer</a>] <a href="src/Handy-Number.html#fibs" class="link">Source</a></p><div class="doc"><p>List of Fibonacci numbers.</p></div></div><div class="top"><p class="src"><a name="v:primes" class="def">primes</a> :: [<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integer">Integer</a>] <a href="src/Handy-Number.html#primes" class="link">Source</a></p><div class="doc"><p>List of prime numbers.</p></div></div><h1 id="g:4">Factorization</h1><div class="top"><p class="src"><a name="v:factor" class="def">factor</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integer">Integer</a> -&gt; [<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integer">Integer</a>] <a href="src/Handy-Number.html#factor" class="link">Source</a></p><div class="doc"><p>Reasonably fast, but due to the fact that it uses rho function for
 numbers not divisible by first 1000 primes, resulting list may contain
 also composites <code>:-(</code>.</p></div></div><h1 id="g:5">Encoding/Decoding</h1><div class="top"><p class="src"><a name="v:enc1" class="def">enc1</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; a -&gt; a -&gt; a <a href="src/Handy-Number.html#enc1" class="link">Source</a></p><div class="doc"><p>Encode tuple of natural numbers into position on diagonal enumeration.</p><pre>map (uncurry enc1) diagonal == [0..]</pre></div></div><div class="top"><p class="src"><a name="v:dec1" class="def">dec1</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; a -&gt; (a, a) <a href="src/Handy-Number.html#dec1" class="link">Source</a></p><div class="doc"><p>Decoding for <code><a href="Handy-Number.html#v:enc1">enc1</a></code> encoding.</p><p>For natural numbers:</p><pre>dec1 . uncurry enc1 = id</pre><pre>uncurry enc1 . dec1 = id</pre></div></div><div class="top"><p class="src"><a name="v:enc2" class="def">enc2</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; a -&gt; a -&gt; a <a href="src/Handy-Number.html#enc2" class="link">Source</a></p><div class="doc"><p>Alternate encoding of tuples of natural numbers.</p></div></div><div class="top"><p class="src"><a name="v:dec2" class="def">dec2</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; a -&gt; (a, a) <a href="src/Handy-Number.html#dec2" class="link">Source</a></p><div class="doc"><p>Decoding for <code><a href="Handy-Number.html#v:enc2">enc2</a></code> encoding.
 For natural numbers:</p><pre>dec2 . uncurry enc2 = id</pre><pre>uncurry enc2 . dec2 = id</pre></div></div><div class="top"><p class="src"><a name="v:encodeBase" class="def">encodeBase</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; [b] -&gt; a -&gt; [b] <a href="src/Handy-Number.html#encodeBase" class="link">Source</a></p><div class="doc"><p>Encode natural number in base <code>(length s)</code>, using symbols from <code>s</code>.
 Provided <code>s</code> must be of length no less than 2.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>encodeBase ['0'..'9'] 100
</code></strong>&quot;100&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>encodeBase &quot;01&quot; 5
</code></strong>&quot;101&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>encodeBase &quot;0123456789abc&quot; (6*9)
</code></strong>&quot;42&quot;
</pre><p>It is not a bijection due to &quot;leading zeros problem&quot;.</p></div></div><div class="top"><p class="src"><a name="v:decodeBase" class="def">decodeBase</a> :: (<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a, <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Eq.html#t:Eq">Eq</a> b) =&gt; [b] -&gt; [b] -&gt; a <a href="src/Handy-Number.html#decodeBase" class="link">Source</a></p><div class="doc"><p>Decode natural number in base <code>(length s)</code>, using symbols from <code>s</code>.
 Provided <code>s</code> must be of length no less than 2. It is dual to <code><a href="Handy-Number.html#v:encodeBase">encodeBase</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>decodeBase ['0'..'9'] &quot;101&quot; :: Int
</code></strong>101
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>encodeBase &quot;01&quot; &quot;101&quot; :: Int
</code></strong>5
</pre><p>It is not a bijection due to &quot;leading zeros problem&quot;.</p><pre>decodeBase s . encodeBase s = id</pre></div></div><div class="top"><p class="src"><a name="v:encodeBij" class="def">encodeBij</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a =&gt; [b] -&gt; a -&gt; [b] <a href="src/Handy-Number.html#encodeBij" class="link">Source</a></p><div class="doc"><p>Bijectively encode natural numbers into sequence.
 This is not standard math encoding, but is handy
 when you need to use space as efficiently as you can.</p><p>Provided <code>s</code> must be non-empty. For single element list
 it collapses to length-encoding.</p><p>Handy for generating examples:</p><pre>map (encodeBij &quot;aA&quot;) [1..]</pre></div></div><div class="top"><p class="src"><a name="v:decodeBij" class="def">decodeBij</a> :: (<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Prelude.html#t:Integral">Integral</a> a, <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Eq.html#t:Eq">Eq</a> b) =&gt; [b] -&gt; [b] -&gt; a <a href="src/Handy-Number.html#decodeBij" class="link">Source</a></p><div class="doc"><p>Decoding for <code><a href="Handy-Number.html#v:encodeBij">encodeBij</a></code> encoding.</p><p>For natural numbers and non-empty list:</p><pre>encodeBij s . decodeBij s = id</pre><pre>decodeBij s . encodeBij s = id</pre></div></div><h1 id="g:6">Convenience functions/values</h1><div class="top"><p class="src"><a name="v:binBase" class="def">binBase</a> :: [<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Char.html#t:Char">Char</a>] <a href="src/Handy-Number.html#binBase" class="link">Source</a></p><div class="doc"><p>List of symbols for binary encoding.
 For use with <code><a href="Handy-Number.html#v:encodeBase">encodeBase</a></code> and <code><a href="Handy-Number.html#v:decodeBase">decodeBase</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:octBase" class="def">octBase</a> :: [<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Char.html#t:Char">Char</a>] <a href="src/Handy-Number.html#octBase" class="link">Source</a></p><div class="doc"><p>List of symbols for octal encoding.
 For use with <code><a href="Handy-Number.html#v:encodeBase">encodeBase</a></code> and <code><a href="Handy-Number.html#v:decodeBase">decodeBase</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:decBase" class="def">decBase</a> :: [<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Char.html#t:Char">Char</a>] <a href="src/Handy-Number.html#decBase" class="link">Source</a></p><div class="doc"><p>List of symbols for decimal encoding.
 For use with <code><a href="Handy-Number.html#v:encodeBase">encodeBase</a></code> and <code><a href="Handy-Number.html#v:decodeBase">decodeBase</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:hexBase" class="def">hexBase</a> :: [<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Char.html#t:Char">Char</a>] <a href="src/Handy-Number.html#hexBase" class="link">Source</a></p><div class="doc"><p>List of symbols for hexadecimal encoding.
 For use with <code><a href="Handy-Number.html#v:encodeBase">encodeBase</a></code> and <code><a href="Handy-Number.html#v:decodeBase">decodeBase</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>